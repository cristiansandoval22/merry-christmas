// Obtener el elemento del botón de WhatsApp
let embedimWhatsapp = document.getElementById("embedim--whatsapp");

if (!embedimWhatsapp) {
    // Obtener el número de WhatsApp desde el atributo data-phone
    let whatsappNumber = document.currentScript.getAttribute("data-phone");
    whatsappNumber = whatsappNumber ? whatsappNumber : "123";

    // Obtener el tema de colores desde el atributo data-theme
    let whatsappColors = document.currentScript.getAttribute("data-theme");
    whatsappColors = whatsappColors ? whatsappColors : "1";

    // Configuración de colores según el tema
    let _whatsapp = {};
    switch (whatsappColors) {
        case "1":
            _whatsapp.backgroundColor = "05a884";
            _whatsapp.iconColor = "fff";
            break;
        case "2":
            _whatsapp.backgroundColor = "fff";
            _whatsapp.iconColor = "05a884";
            break;
        case "3":
            _whatsapp.backgroundColor = "25D366";
            _whatsapp.iconColor = "fff";
            break;
        case "4":
            _whatsapp.backgroundColor = "fff";
            _whatsapp.iconColor = "25D366";
            break;
        case "5":
            _whatsapp.backgroundColor = "000";
            _whatsapp.iconColor = "fff";
            break;
        case "6":
            _whatsapp.backgroundColor = "fff";
            _whatsapp.iconColor = "000";
            break;
        default:
            _whatsapp.backgroundColor = "05a884";
            _whatsapp.iconColor = "fff";
    }

    // Crear el botón de WhatsApp
    _whatsapp.button = `
        <a href="https://api.whatsapp.com/send?phone=51${whatsappNumber}"
         style="background-color: #${_whatsapp.backgroundColor}; color: #${_whatsapp.iconColor};" target="_blank"
         class="embedim--whatsapp">
         <svg xmlns="http://www.w3.org/2000/svg" width="131" height="31">
            <path fill="#fff" class="_whatsappLabel"
               d="M129.238 14.692a5.173 5.173 0 0 0-.87-1.788 4.349 4.349 0 0 0-1.474-1.234 4.52 4.52 0 0 0-2.122-.464 4.101 4.101 0 0 0-1.778.383 3.166 3.166 0 0 0-1.328 1.238h-.039v-1.34h-2.735v14.111h2.864v-4.952h.041c.336.5.8.901 1.344 1.162.558.265 1.17.4 1.788.395a4.327 4.327 0 0 0 2.011-.453 4.254 4.254 0 0 0 1.434-1.194 5.14 5.14 0 0 0 .86-1.718c.19-.656.285-1.336.283-2.02a7.906 7.906 0 0 0-.273-2.126h-.006Zm-12.307-1.788a4.356 4.356 0 0 0-1.476-1.234 4.51 4.51 0 0 0-2.12-.464 4.08 4.08 0 0 0-1.779.383 3.152 3.152 0 0 0-1.327 1.238h-.041v-1.34h-2.729v14.111h2.865v-4.952h.039c.337.5.801.902 1.345 1.162.559.265 1.17.4 1.788.395a4.323 4.323 0 0 0 2.01-.453 4.271 4.271 0 0 0 1.436-1.194 5.138 5.138 0 0 0 .859-1.718 7.23 7.23 0 0 0 .282-2.02 7.967 7.967 0 0 0-.282-2.134 5.225 5.225 0 0 0-.87-1.78ZM75.45 19.612v-5.428c0-.634-.141-1.144-.424-1.528a2.922 2.922 0 0 0-1.09-.904 4.908 4.908 0 0 0-1.476-.433 12.016 12.016 0 0 0-1.597-.112 8.9 8.9 0 0 0-1.73.17 4.922 4.922 0 0 0-1.546.577 3.415 3.415 0 0 0-1.131 1.07 3.33 3.33 0 0 0-.507 1.679h2.865c.054-.566.244-.971.567-1.207.323-.235.775-.368 1.342-.368.24 0 .48.016.716.05.207.028.407.096.587.202.17.103.31.25.404.425.111.23.163.483.15.738a.776.776 0 0 1-.262.677 1.923 1.923 0 0 1-.772.351c-.365.089-.736.15-1.11.183-.42.04-.844.095-1.273.16-.433.069-.861.16-1.284.275a3.59 3.59 0 0 0-1.132.514c-.338.24-.615.555-.81.92a3.06 3.06 0 0 0-.312 1.466c-.012.48.08.955.273 1.395.17.378.43.711.754.97.335.263.72.455 1.13.566a5.14 5.14 0 0 0 1.395.183c.644 0 1.284-.095 1.899-.282a3.763 3.763 0 0 0 1.618-.993c.025.344.093.683.202 1.01h2.91c-.161-.3-.258-.63-.284-.969l-.072-1.357Zm17.223-2.254a2.616 2.616 0 0 0-.754-.83 4.073 4.073 0 0 0-1.056-.536c-.402-.134-.81-.249-1.223-.343-.417-.095-.8-.182-1.19-.262a9.348 9.348 0 0 1-1.043-.273 2.15 2.15 0 0 1-.736-.395.783.783 0 0 1-.283-.626.767.767 0 0 1 .157-.512c.106-.13.241-.234.395-.302.164-.069.337-.113.514-.131.175-.016.352-.022.528-.02.462-.011.92.089 1.336.293.375.194.585.568.624 1.122h2.73a3.44 3.44 0 0 0-.497-1.61 3.241 3.241 0 0 0-1.04-1.018 4.33 4.33 0 0 0-1.425-.546 8.267 8.267 0 0 0-1.645-.162 9.053 9.053 0 0 0-1.659.151 4.545 4.545 0 0 0-1.455.526 2.896 2.896 0 0 0-1.04 1.02 3.148 3.148 0 0 0-.394 1.658c-.013.406.085.808.284 1.163.188.316.446.586.753.788.327.217.682.387 1.056.506.397.128.805.24 1.221.333.814.157 1.614.374 2.396.648.573.214.86.538.86.97.009.226-.055.449-.183.636a1.39 1.39 0 0 1-.452.404 2.135 2.135 0 0 1-.603.222 2.96 2.96 0 0 1-.636.072c-.276 0-.55-.033-.818-.1a2.138 2.138 0 0 1-.698-.315 1.692 1.692 0 0 1-.496-.545 1.582 1.582 0 0 1-.191-.8h-2.74c.003.615.167 1.218.475 1.75.28.454.66.838 1.112 1.121.475.292 1 .496 1.547.604a8.882 8.882 0 0 0 3.525.01 4.432 4.432 0 0 0 1.526-.603 3.17 3.17 0 0 0 1.494-2.85 2.435 2.435 0 0 0-.282-1.215l.005-.003h.001ZM80.81 8.353h-2.864v3.135H76.2v1.92h1.737v6.166c-.02.44.07.877.262 1.273.163.314.412.575.718.754.326.183.684.303 1.055.353.418.061.84.092 1.262.09.285 0 .573 0 .87-.02.271-.01.541-.037.808-.08v-2.23c-.14.03-.282.05-.425.062-.15.014-.301.021-.464.021-.484 0-.808-.082-.971-.244-.163-.161-.242-.484-.242-.97v-5.174h2.102v-1.921h-2.106l.004-3.135Zm-32.334 9.098h-.039L45.972 7.5h-2.97l-2.517 9.83h-.04l-2.278-9.824h-3.166l3.82 14.433h3.212l2.404-9.824h.04l2.446 9.824h3.153L53.95 7.506h-3.112l-2.362 9.945Zm15.153-5.063a2.8 2.8 0 0 0-1.161-.87 4.894 4.894 0 0 0-1.89-.312 3.753 3.753 0 0 0-1.658.415 3.32 3.32 0 0 0-1.397 1.323h-.06V7.506h-2.865v14.433h2.865v-5.478c0-1.065.175-1.83.525-2.295.35-.466.916-.698 1.698-.697.686 0 1.165.213 1.434.638.268.425.404 1.068.404 1.93v5.902h2.865v-6.428a8.544 8.544 0 0 0-.172-1.769 3.357 3.357 0 0 0-.588-1.354ZM98.37 7.503l-5.456 14.433h3.193l1.132-3.214h5.395l1.09 3.214h3.296l-5.399-14.43-3.251-.003Zm-25.785 10.39c-.003.217-.02.433-.05.647-.037.282-.13.553-.272.8a1.89 1.89 0 0 1-.688.676c-.309.19-.746.284-1.313.284-.224 0-.447-.02-.667-.062a1.595 1.595 0 0 1-.565-.213 1.076 1.076 0 0 1-.385-.413c-.1-.2-.148-.423-.141-.647-.009-.23.04-.46.141-.668.091-.171.219-.319.374-.434.166-.12.35-.212.546-.273.209-.067.421-.121.636-.161.23-.04.453-.076.686-.101a8.56 8.56 0 0 0 .658-.101c.198-.038.394-.088.586-.151.167-.052.321-.137.453-.252l.001 1.069Zm53.939.084a3.03 3.03 0 0 1-.414 1.056 2.332 2.332 0 0 1-3.901 0 3.2 3.2 0 0 1-.424-1.056 5.857 5.857 0 0 1-.131-1.231 6.37 6.37 0 0 1 .121-1.255 3.19 3.19 0 0 1 .434-1.072c.194-.307.457-.565.767-.754a2.2 2.2 0 0 1 1.182-.301 2.15 2.15 0 0 1 1.161.301c.316.193.583.455.78.768.208.331.355.697.434 1.08.089.406.133.82.131 1.236a6.26 6.26 0 0 1-.128 1.229h-.012v-.001Zm-11.431 0a3.07 3.07 0 0 1-.414 1.056 2.443 2.443 0 0 1-3.123.739 2.256 2.256 0 0 1-.778-.739 3.18 3.18 0 0 1-.424-1.056 5.72 5.72 0 0 1-.131-1.231 6.531 6.531 0 0 1 .119-1.255c.073-.38.214-.743.416-1.072.194-.308.457-.566.768-.754.358-.21.767-.314 1.182-.301.408-.011.81.093 1.161.301.315.193.581.455.778.768.208.331.355.697.434 1.08.089.406.133.82.131 1.236a6.26 6.26 0 0 1-.113 1.229h-.006v-.001Zm-17.025-1.62 1.881-5.296h.039l1.82 5.296h-3.74Z">
            </path>
            <path fill="#fff"
               d="M29.724 14.324C29.434 6.411 22.872.047 14.954 0h-.084C6.713 0 0 6.713 0 14.87c0 2.492.627 4.945 1.822 7.132L.508 29.87l-.001.016c0 .063.051.114.114.114h.023l7.782-1.731a14.878 14.878 0 0 0 6.443 1.465h.425c7.991-.228 14.44-6.864 14.44-14.858 0-.184-.003-.368-.01-.552ZM15.22 27.148h-.351a12.287 12.287 0 0 1-5.665-1.375l-.398-.208-5.278 1.247.974-5.34-.226-.382a12.291 12.291 0 0 1-1.691-6.221c0-6.611 5.335-12.099 11.944-12.286h.358c6.739.002 12.282 5.548 12.282 12.287 0 6.608-5.331 12.094-11.936 12.282l-.013-.004ZM9.7 7.69a1.377 1.377 0 0 0-.978.435c-.354.364-1.345 1.238-1.402 3.075-.057 1.836 1.226 3.653 1.405 3.908.18.255 2.454 4.222 6.2 5.831 2.2.948 3.166 1.111 3.791 1.111.258 0 .453-.027.656-.039.686-.042 2.235-.835 2.573-1.698.337-.862.36-1.616.271-1.767-.089-.15-.333-.26-.701-.452-.368-.193-2.173-1.158-2.512-1.294a1.138 1.138 0 0 0-.4-.104.554.554 0 0 0-.445.265c-.301.376-.993 1.192-1.226 1.427a.555.555 0 0 1-.407.19.97.97 0 0 1-.408-.11 9.521 9.521 0 0 1-2.939-1.96 11.259 11.259 0 0 1-1.996-2.656c-.205-.38 0-.576.187-.754.187-.178.387-.423.58-.636a2.57 2.57 0 0 0 .392-.603.691.691 0 0 0-.01-.655c-.09-.19-.754-2.058-1.066-2.807-.254-.641-.555-.662-.82-.682-.216-.015-.465-.022-.714-.03h-.032l.001.005Z">
            </path>
         </svg>
         
      </a>
    `;

    // Insertar el botón en el DOM
    const div = document.createElement("div");
    div.innerHTML = _whatsapp.button;
    document.body.appendChild(div);
}


